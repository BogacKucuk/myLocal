private BigDecimal getAccountBalance(RentalSafeBoxDTO rentalSafeBoxModel) throws SafeDepositBoxRefundException {
    try {
        ResponseEntity<ResponseBalanceInfo> responseBalanceInfo = accountClient.getBalanceInfo(rentalSafeBoxModel.getAccountNo(), false);

        // İlk null kontrolü
        if (responseBalanceInfo != null && responseBalanceInfo.getBody() != null) {
            ResponseBalanceInfo body = responseBalanceInfo.getBody();
            
            // İkinci null kontrolü
            if (body.getBalanceDTO() != null && body.getBalanceDTO().getBalance() != null) {
                return body.getBalanceDTO().getBalance();
            }
        }
        // Eğer yukarıdaki şartlar karşılanmazsa hata fırlat
        throw new SafeDepositBoxRefundException("Hesap balance bulunamadı.");
    } catch (Exception e) {
        throw new SafeDepositBoxRefundException("Hesap balance servisinde hata alındı.", e);
    }
}
