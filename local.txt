// Service method'unuzun başına bu test kodu ekleyin:

@Override
public DigitalOrderReadResponseDto readDigitalOrder(DigitalOrderReadRequestDto requestDto) {
    
    // === MAPPER TEST START ===
    System.out.println("=== MAPPER TEST START ===");
    
    try {
        // Mock BigDecimal proto oluşturalım
        BigDecimalProto.BigDecimal testProtoBigDecimal = BigDecimalProto.BigDecimal.newBuilder()
            .setScale(2)
            .setPrecision(5)
            .setValue(com.google.protobuf.ByteString.copyFrom(new BigDecimal("123.45").unscaledValue().toByteArray()))
            .build();
        
        System.out.println("Test Proto BigDecimal created - scale: " + testProtoBigDecimal.getScale() + 
            ", precision: " + testProtoBigDecimal.getPrecision() + 
            ", valueSize: " + testProtoBigDecimal.getValue().size());
        
        // Mock gRPC item oluşturalım
        ReadBranchInstructionDepositWithdrawal testGrpcItem = 
            ReadBranchInstructionDepositWithdrawal.newBuilder()
                .setInstructionId(12345L)
                .setAmount(testProtoBigDecimal)
                .setCurrencyCode("TRY")
                .build();
        
        System.out.println("Test gRPC item created - ID: " + testGrpcItem.getInstructionId() + 
            ", hasAmount: " + testGrpcItem.hasAmount());
        
        // Mapper test
        System.out.println("Testing mapper...");
        ReadBranchInstructionDepositWithdrawalDto testDto = 
            DigitalOrderMapper.INSTANCE.toReadBranchInstructionDepositWithdrawalDto(testGrpcItem);
        
        System.out.println("Mapper result - ID: " + testDto.getInstructionId() + 
            ", amount: " + testDto.getAmount() + 
            ", currency: " + testDto.getCurrencyCode());
        
        if (testDto.getAmount() == null) {
            System.out.println("*** MAPPER TEST FAILED: Amount is NULL ***");
            
            // Direct method test
            System.out.println("Testing direct method call...");
            BigDecimal directResult = DigitalOrderMapper.INSTANCE.fromProtoBigDecimal(testProtoBigDecimal);
            System.out.println("Direct method result: " + directResult);
            
        } else {
            System.out.println("*** MAPPER TEST SUCCESS: Amount = " + testDto.getAmount() + " ***");
        }
        
    } catch (Exception e) {
        System.out.println("*** MAPPER TEST ERROR: " + e.getMessage());
        e.printStackTrace();
    }
    
    System.out.println("=== MAPPER TEST END ===");
    
    // Gerçek kod devam eder...
    DigitalOrderReadRequest grpcRequest = DigitalOrderMapper.INSTANCE.toGrpcRequest(requestDto);
    // ... rest of your code
}
