
    @Named("stringDateToInt")
    default int stringDateToInt(String value) {
        if (value == null || value.isBlank()) {
            // null veya boşsa bugünün tarihini döndür (yyyyMMdd formatında)
            String today = LocalDate.now().format(DateTimeFormatter.ofPattern("yyyyMMdd"));
            return Integer.parseInt(today);
        }

        // Diğer durumlarda normal dönüşüm yap
        String digits = value.replaceAll("\\D", ""); // sadece rakamları al
        if (digits.length() < 8) {
            throw new IllegalArgumentException("Unexpected txnDate format: " + value);
        }

        String yyyymmdd = digits.substring(0, 8);
        return Integer.parseInt(yyyymmdd);
    }
