package com.ykb.corebanking.safedepositbox.safedepositboxbe.controller;

import javax.validation.Valid;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.ykb.corebanking.safedepositbox.safedepositboxbe.exception.JobException;
import com.ykb.corebanking.safedepositbox.safedepositboxbe.request.RequestJobLauncher;
import com.ykb.corebanking.safedepositbox.safedepositboxbe.response.ResponseJobLauncher;
import com.ykb.corebanking.safedepositbox.safedepositboxbe.service.IJobLauncher;



@RequestMapping("/job")
@RestController
public class JobLauncerController {

    @Autowired
    private IJobLauncher jobLauncher;

    @PostMapping("/execute")
    public ResponseJobLauncher launch(@RequestBody @Valid RequestJobLauncher requestJobLauncher) throws JobException {
        return jobLauncher.launch(requestJobLauncher);
    }

}


package com.ykb.corebanking.safedepositbox.safedepositboxbe.service;

import javax.validation.Valid;
import javax.validation.constraints.NotNull;

import com.ykb.corebanking.safedepositbox.safedepositboxbe.exception.JobException;
import com.ykb.corebanking.safedepositbox.safedepositboxbe.request.RequestJobLauncher;
import com.ykb.corebanking.safedepositbox.safedepositboxbe.response.ResponseJobLauncher;


public interface IJobLauncher {

    public ResponseJobLauncher launch(@Valid @NotNull RequestJobLauncher requestJobLauncer) throws JobException;

}
