@Mapper(
    nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS,
    nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.SET_TO_DEFAULT,
    nullValueMappingStrategy = NullValueMappingStrategy.RETURN_DEFAULT,
    collectionMappingStrategy = CollectionMappingStrategy.ADDER_PREFERRED,
    config = GrpcMapperConfig.class
)
public abstract class GoldDocumentGrpcMapper {
    
    public static final GoldDocumentGrpcMapper INSTANCE = 
        Mappers.getMapper(GoldDocumentGrpcMapper.class);

    // DTO to gRPC conversions
    public abstract CreateSinglePdfGrpcRequest toGrpcRequest(CreateSinglePdfRequestDto dto);
    public abstract CreateSinglePdfGrpcResponse toGrpcResponse(CreateSinglePdfResponseDto dto);

    // gRPC to DTO conversions - burayÄ± explicit hale getiriyoruz
    @Mapping(target = "customerInfo", source = "customerInfoList")
    public abstract CreateSinglePdfRequestDto toDto(CreateSinglePdfGrpcRequest grpcRequest);
    
    public abstract CreateSinglePdfResponseDto toDto(CreateSinglePdfGrpcResponse grpcResponse);

    // CustomerInfo mapping - gRPC'den DTO'ya
    @Mapping(target = "customerNumber", source = "customerNumber")
    public abstract CustomerInfo fromGrpcCustomerInfo(
        com.garantibbva.depositwithdrawalmngt.moneywithdrawbusiness.proto.GoldDocumentProto.CustomerInfo grpcCustomerInfo);

    // BranchInfo mapping - gRPC'den DTO'ya  
    @Mapping(target = "referenceNumber", source = "referenceNumber")
    public abstract BranchInfo fromGrpcBranchInfo(
        com.garantibbva.depositwithdrawalmngt.moneywithdrawbusiness.proto.GoldDocumentProto.BranchInfo grpcBranchInfo);

    // List mapping
    public abstract List<CustomerInfo> fromGrpcCustomerInfoList(
        List<com.garantibbva.depositwithdrawalmngt.moneywithdrawbusiness.proto.GoldDocumentProto.CustomerInfo> grpcCustomerInfoList);

    // getPdf service mapping
    public abstract GetSinglePdfRequestDto toGetSinglePdfRequestDto(GetSinglePdfGrpcRequest grpcRequest);
    public abstract GetPdfGrpcResponse toGetSinglePdfGrpcResponse(GetPdfResponseDto responseDto);
}
