const [dcpTokenTrigger, { isLoading: dcpTokenLoading }] = useLazyGetDcpTokenQuery();
const dispatch = useAppDispatch();

useEffect(() => {
  // request hazır değilse boşuna çağırma
  if (!dcpTokenRequest) return;

  (async () => {
    try {
      const res = await dcpTokenTrigger(dcpTokenRequest).unwrap(); // <-- BURADA await ZORUNLU

      console.log("res ********", res); // <-- Artık gerçek response
      // örnek: slice'a yaz
      dispatch(setDcpToken(res));
    } catch (err) {
      console.error("getDcpToken failed:", err);
    }
  })(); // <-- IIFE'yi gerçekten ÇAĞIRIYORUZ
}, [dcpTokenRequest, dcpTokenTrigger, dispatch]);
